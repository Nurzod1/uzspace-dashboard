<script setup>
import { ref } from 'vue'
import { useRoute } from 'vue-router'
import BreadCrumbs from '@/components/BreadCrumbs.vue'
import DownloadModal from '@/components/DownloadModal.vue'

const route = useRoute()
const routes = [{ path: '/', name: 'Dashboards' }]
const isModalVisible = ref(false)

function openModal() {
  isModalVisible.value = true
}

function closeModal() {
  isModalVisible.value = false
}
</script>

<template>
  <div class="header">
    <div class="header-breadcrumbs">
      <BreadCrumbs :routes="routes" />
    </div>
    <div class="header-main">
      <div class="header-search">
        <input type="text" class="header-search__input" placeholder="Search" />
        <div class="header-search__icon">
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M14.35 14.3563C14.2566 14.4482 14.131 14.4998 14 14.5C13.8672 14.4994 13.7397 14.448 13.6437 14.3563L10.9437 11.65C9.80659 12.6051 8.34462 13.0844 6.86273 12.9878C5.38083 12.8912 3.99343 12.2263 2.98988 11.1316C1.98633 10.037 1.44412 8.5972 1.47633 7.11251C1.50855 5.62782 2.11269 4.21289 3.16277 3.16281C4.21286 2.11272 5.62779 1.50858 7.11248 1.47636C8.59717 1.44415 10.037 1.98636 11.1316 2.98991C12.2263 3.99346 12.8912 5.38086 12.9878 6.86276C13.0844 8.34465 12.6051 9.80662 11.65 10.9438L14.35 13.6438C14.3972 13.6903 14.4347 13.7457 14.4603 13.8069C14.486 13.8681 14.4991 13.9337 14.4991 14C14.4991 14.0663 14.486 14.132 14.4603 14.1931C14.4347 14.2543 14.3972 14.3097 14.35 14.3563ZM7.24997 12C8.18944 12 9.1078 11.7214 9.88893 11.1995C10.6701 10.6776 11.2789 9.9357 11.6384 9.06775C11.9979 8.1998 12.092 7.24474 11.9087 6.32333C11.7254 5.40192 11.273 4.55555 10.6087 3.89125C9.94443 3.22695 9.09806 2.77456 8.17665 2.59128C7.25524 2.408 6.30018 2.50206 5.43223 2.86158C4.56428 3.22109 3.82243 3.82991 3.30049 4.61105C2.77856 5.39218 2.49997 6.31054 2.49997 7.25001C2.50163 8.50928 3.0026 9.7165 3.89304 10.6069C4.78348 11.4974 5.9907 11.9984 7.24997 12Z"
              fill="#1C1C1C"
              fill-opacity="0.2"
            />
          </svg>
        </div>
      </div>
      <button class="header-btn__dwnload" @click.stop="openModal">
        <div class="header-btn__dwnload--icon">
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M13.723 9.03593L13.7232 9.03569C13.8404 8.91848 13.9062 8.75951 13.9062 8.59375C13.9062 8.42799 13.8404 8.26902 13.7232 8.15181C13.606 8.0346 13.447 7.96875 13.2812 7.96875C13.1155 7.96875 12.9565 8.0346 12.8393 8.15181L12.8391 8.15204L10 10.9911L7.16077 8.15188C7.04348 8.0346 6.88451 7.96875 6.71875 7.96875C6.55299 7.96875 6.39402 8.0346 6.27681 8.15181C6.1596 8.26902 6.09375 8.42799 6.09375 8.59375C6.09375 8.75951 6.1596 8.91848 6.27681 9.03569L9.55806 12.3169C9.67527 12.4342 9.83424 12.5 10 12.5C10.1658 12.5 10.3247 12.4342 10.4419 12.3169L13.723 9.03593Z"
              fill="white"
            />
            <path
              d="M9.375 3.125V11.875C9.375 12.2202 9.65482 12.5 10 12.5C10.3452 12.5 10.625 12.2202 10.625 11.875V3.125C10.625 2.77982 10.3452 2.5 10 2.5C9.65482 2.5 9.375 2.77982 9.375 3.125Z"
              fill="white"
            />
            <path
              d="M3.75 16.25V11.875C3.75 11.5298 3.47018 11.25 3.125 11.25C2.77982 11.25 2.5 11.5298 2.5 11.875V16.25C2.5 16.7678 2.86612 17.1339 2.86612 17.1339C3.23223 17.5 3.75 17.5 3.75 17.5H16.25C16.7678 17.5 17.1339 17.1339 17.1339 17.1339C17.5 16.7678 17.5 16.25 17.5 16.25V11.875C17.5 11.5298 17.2202 11.25 16.875 11.25C16.5298 11.25 16.25 11.5298 16.25 11.875V16.25H3.75Z"
              fill="white"
            />
          </svg>
        </div>
        <span class="header-btn__dwnload--text">Download</span>
      </button>
      <button class="header-btn theme">
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M12 5.625C12 5.625 13.2965 5.625 14.4817 6.12629C14.4817 6.12629 15.6258 6.61023 16.5078 7.49219C16.5078 7.49219 17.3898 8.37416 17.8737 9.51833C17.8737 9.51833 18.375 10.7035 18.375 12C18.375 12 18.375 13.2965 17.8737 14.4817C17.8737 14.4817 17.3898 15.6258 16.5078 16.5078C16.5078 16.5078 15.6258 17.3898 14.4817 17.8737C14.4817 17.8737 13.2965 18.375 12 18.375C12 18.375 10.7035 18.375 9.51833 17.8737C9.51833 17.8737 8.37416 17.3898 7.49219 16.5078C7.49219 16.5078 6.61023 15.6258 6.12629 14.4817C6.12629 14.4817 5.625 13.2965 5.625 12C5.625 12 5.625 10.7035 6.12629 9.51833C6.12629 9.51833 6.61023 8.37416 7.49219 7.49219C7.49219 7.49219 8.37416 6.61023 9.51833 6.12629C9.51833 6.12629 10.7035 5.625 12 5.625ZM12 7.125C12 7.125 9.98071 7.125 8.55285 8.55285C8.55285 8.55285 7.125 9.98071 7.125 12C7.125 12 7.125 14.0193 8.55285 15.4471C8.55285 15.4471 9.98071 16.875 12 16.875C12 16.875 14.0193 16.875 15.4471 15.4471C15.4471 15.4471 16.875 14.0193 16.875 12C16.875 12 16.875 9.98071 15.4471 8.55285C15.4471 8.55285 14.0193 7.125 12 7.125Z"
            fill="#1C1C1C"
          />
          <path
            d="M12.75 3.375V1.5C12.75 1.08579 12.4142 0.75 12 0.75C11.5858 0.75 11.25 1.08579 11.25 1.5V3.375C11.25 3.78921 11.5858 4.125 12 4.125C12.4142 4.125 12.75 3.78921 12.75 3.375Z"
            fill="#1C1C1C"
          />
          <path
            d="M5.10531 4.04465C4.96466 3.904 4.77389 3.82498 4.57498 3.82498C4.37607 3.82498 4.1853 3.904 4.04465 4.04465C3.904 4.1853 3.82498 4.37607 3.82498 4.57498C3.82498 4.77389 3.904 4.96466 4.04465 5.10531L5.36653 6.42719C5.50718 6.56784 5.69794 6.64686 5.89686 6.64686C6.09577 6.64686 6.28654 6.56784 6.42719 6.42719C6.56784 6.28654 6.64686 6.09577 6.64686 5.89686C6.64686 5.69794 6.56784 5.50718 6.42719 5.36653L5.10531 4.04465Z"
            fill="#1C1C1C"
          />
          <path
            d="M3.375 11.25H1.5C1.08579 11.25 0.75 11.5858 0.75 12C0.75 12.4142 1.08579 12.75 1.5 12.75H3.375C3.78921 12.75 4.125 12.4142 4.125 12C4.125 11.5858 3.78921 11.25 3.375 11.25Z"
            fill="#1C1C1C"
          />
          <path
            d="M4.04465 18.8946C3.904 19.0353 3.82498 19.226 3.82498 19.425C3.82498 19.4379 3.82532 19.4508 3.82599 19.4638C3.83558 19.649 3.91349 19.8241 4.04465 19.9553C4.1853 20.0959 4.37607 20.175 4.57498 20.175C4.77389 20.175 4.96466 20.0959 5.10531 19.9553L6.42719 18.6334C6.56784 18.4928 6.64686 18.302 6.64686 18.1031C6.64686 17.9042 6.56784 17.7134 6.42719 17.5728C6.28654 17.4321 6.09577 17.3531 5.89686 17.3531C5.88391 17.3531 5.87098 17.3534 5.85805 17.3541C5.67281 17.3637 5.49769 17.4416 5.36653 17.5728L4.04465 18.8946Z"
            fill="#1C1C1C"
          />
          <path
            d="M11.25 20.625V22.5C11.25 22.9142 11.5858 23.25 12 23.25C12.4142 23.25 12.75 22.9142 12.75 22.5V20.625C12.75 20.2108 12.4142 19.875 12 19.875C11.5858 19.875 11.25 20.2108 11.25 20.625Z"
            fill="#1C1C1C"
          />
          <path
            d="M17.5728 18.6335L18.8946 19.9553C19.0353 20.0959 19.226 20.175 19.425 20.175C19.6239 20.175 19.8146 20.0959 19.9553 19.9553C20.0959 19.8146 20.175 19.6239 20.175 19.425C20.175 19.226 20.0959 19.0353 19.9553 18.8946L18.6335 17.5728C18.4928 17.4321 18.302 17.3531 18.1031 17.3531C17.9042 17.3531 17.7134 17.4321 17.5728 17.5728C17.4321 17.7134 17.3531 17.9042 17.3531 18.1031C17.3531 18.302 17.4321 18.4928 17.5728 18.6335Z"
            fill="#1C1C1C"
          />
          <path
            d="M20.625 12.75H22.5C22.9142 12.75 23.25 12.4142 23.25 12C23.25 11.5858 22.9142 11.25 22.5 11.25H20.625C20.2108 11.25 19.875 11.5858 19.875 12C19.875 12.4142 20.2108 12.75 20.625 12.75Z"
            fill="#1C1C1C"
          />
          <path
            d="M19.9553 5.10531C20.0959 4.96466 20.175 4.77389 20.175 4.57498C20.175 4.37607 20.0959 4.1853 19.9553 4.04465C19.8146 3.904 19.6239 3.82498 19.425 3.82498C19.226 3.82498 19.0353 3.904 18.8946 4.04465L17.5728 5.36644C17.4321 5.50718 17.3531 5.69794 17.3531 5.89686C17.3531 6.09577 17.4321 6.28654 17.5728 6.42719C17.7134 6.56784 17.9042 6.64686 18.1031 6.64686C18.302 6.64686 18.4928 6.56784 18.6334 6.42719L19.9553 5.10531Z"
            fill="#1C1C1C"
          />
        </svg>
      </button>
    </div>
  </div>
  <div class="home-download__modal">
    <DownloadModal v-if="isModalVisible" @close="closeModal" />
  </div>
</template>

<style lang="scss" scoped>
.header {
  padding: 15px 35px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid #e6e6e6;

  &-main {
    display: flex;
    align-items: center;
    gap: 20px;
  }
  &-breadcrumbs {
    &__item {
      font-size: 14px;
    }
  }

  &-search {
    position: relative;
    &__input {
      outline: none;
      border: 1px solid #f3f3f3;
      width: 160px;
      height: 28px;
      border-radius: 8px;
      font-size: 14px;
      padding: 0 26px !important;
      background-color: #f3f3f3;
      transition: 0.3s;

      &:hover {
        border: 1px solid #e2e1e1;
      }

      &:focus {
        border: 1px solid #e2e1e1;
      }
    }

    &__icon {
      position: absolute;
      top: 6px;
      left: 6px;
    }
  }

  &-btn {
    border: none;
    background: none;
    max-width: 24px;
    max-height: 24px;

    &__dwnload {
      display: flex;
      align-items: center;
      background-color: #000000;
      border-radius: 8px;
      border: none;
      padding: 8px 18px;

      &--icon {
        max-width: 20px;
        max-height: 20px;
        margin-right: 4px;
      }

      &--text {
        color: #ffffff;
        font-size: 14px;
      }
    }
  }
}
</style>
